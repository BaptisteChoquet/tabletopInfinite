<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    {% block stylesheets %}
    <link href="{{ asset('css/style.css') }}" type="text/css" rel="stylesheet" />
    {% endblock %}
</head>
<body class="marketplace">

    {% include 'tabletop_infinite/Marketplace/navbar.html.twig' %}


    <div class="market-container">
        <div class="top">
            <p>Welcome on Tabletop Infinite's Marketplace !!!</p>
            <input type="text" placeholder="Search templates..." id="input-search">
        </div>
        <div class="templates-container">
            {% for template in templates %}
                <div class="template">
                    <div class="name">{{template.name}}</div>
                    <div class="contenu">{{ template.contenu | raw }}</div>
                    <div class="description">{{ template.description}}</div>
                    <div class="rating">{{ template.rating}}/5</div>
                    <a href="/sheet_creator/{{template.id}}">Editer</a>
                </div>

            
            {% endfor %}
        </div>
    </div>
    
</body>
<script type="text/javascript">
let allTemplates = document.getElementsByClassName('template-card');
let input = document.getElementById('input-search');
console.log(input);

input.addEventListener('input', e =>{
    let search = e.target.value;
    for (let i = 0; i < allTemplates.length; i++) {
        if (!allTemplates[i].innerText.toLowerCase().includes(search.toLowerCase())) {
            allTemplates[i].style.display = "none"
        }else{
            allTemplates[i].style.display = "block"
        }
    }
})

for (let i = 0; i < allTemplates.length; i++) {
    allTemplates[i].innerHTML = allTemplates[i].innerText;

    
}


</script>
</html>
